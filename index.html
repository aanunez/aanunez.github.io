<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title> aanunez </title>
        <style type="text/css">
            body{margin:40px auto;max-width:650px;line-height:1.6;font-size:16px;color:#444}
            h1,h2,h3{line-height:0.0;margin-top:40px}
            header{line-height:1.2;margin-bottom:40px}
            code{font-size:13px}
            .date{font-size:12px}
        </style>
    </head>
    <body>
        <div id="top_edge_dummy" style="width: 1px; height: 1px; padding: 0px; margin: -41px 0px 0px; border-width: 0px; display: block;"></div>
        <div id="top_edge" style="background-image: url(&quot;chrome-extension://khpcanbeojalbkpgpmjpdkjnkfcgfkhb/edgebgtop.png&quot;); background-attachment: scroll; background-position: center bottom; padding: 0px; margin: 0px 0px 40px -457.5px; border-width: 0px; height: 0px; display: block; width: 1px;"></div>
        <header>
            <h1>aanunez</h1>
            <p>
                "They're putting chemicals in the water that turn the freaking frogs gay" - A wise man
                <br>
                <a href="https://github.com/aanunez">Github</a> —
                <a href="https://aanunez.itch.io">Itch.io</a> —
                <a href="https://www.reddit.com/r/me_irl/">Best Subreddit</a>
            </p>
        </header>

<h2 id="managing-__all__-in-python-2017-06-24">Managing __all__ in Python <span class="date"> 2017 06 24</span></h2><p>I recently had some issues organizing a Python <a href="https://github.com/aanunez/tortilla8">project</a>. I was concerned that <code>import foo</code> wasn't including everything an end user would expect and the simple solution of importing everything in <code>__init__</code> added a lot of mess (constants and other imports specific to the module) to the the enviorment. The solution is to add <code>__all__</code> to every module, which should list all exportable deffinitions. Unfortunitaly, managing <code>__all__</code> across multiple modules isn't fun or easy, luckily I stumpled across a lecture by <a href="https://www.youtube.com/watch?v=bGYZEKstQuQ">David Beazley</a> where it is suggested that an <code>export</code> decorator be used to build <code>__all__</code>.</p>
<p>Placing the below export decorator in <code>__init__</code> means that two lines of boiler plate are needed in modules: <code>__all__ = []</code> and <code>from . import export</code>. This specific version is lifted from stack overflow user <a href="https://stackoverflow.com/questions/41895077/export-decorator-that-manages-all">Ed L</a>. Using this you get the behavior one would expect when using <code>from foo import *</code> and from <code>import foo</code>, everything decorated with export and nothing else.</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> sys <span class="im">import</span> modules
<span class="kw">def</span> export(defn):
    mod <span class="op">=</span> modules[defn.__module__]
    <span class="cf">if</span> <span class="bu">hasattr</span>(mod, <span class="st">&#39;__all__&#39;</span>):
        name, all_ <span class="op">=</span> defn.<span class="va">__name__</span>, mod.__all__
        <span class="cf">if</span> name <span class="op">not</span> <span class="op">in</span> __all__:
            all_.append(name)
    <span class="cf">else</span>:
        mod.__all__ <span class="op">=</span> [defn.<span class="va">__name__</span>]
    <span class="cf">return</span> defn</code></pre></div>
<h2 id="hello-world-2017-06-23">Hello World! <span class="date"> 2017 06 23</span></h2><p>So I finally got around to creating some kind of website and, as I'm sure its obvious, I did pretty much the bare minimum. I don't much care for more complex websites and I've always been a fan of <a href="https://stallman.org/">Stallman's</a> sans the clutter. This whole thing is just a single HTML file with three lines of CSS, these posts are generated via <a href="http://pandoc.org/">pandoc</a> from markdown. The whole thing is then wrapped in a python script to easily manage the multiple files, and tacking on the header / footer. Not sure why I never thought of this before.</p>

        <div id="bottom_edge" style="background-image: url(&quot;chrome-extension://khpcanbeojalbkpgpmjpdkjnkfcgfkhb/edgebgbot.png&quot;); background-position: 0px 0px; position: absolute; margin: 0px; padding: 0px; border-width: 0px; height: 0px; left: 0px; top: 0px; width: 100%; display: block;"></div>
    </body>
    <footer>
        <hr>
        The content of this page is licensed under the <a href="https://creativecommons.org/licenses/by-nd/4.0/">CC Attribution-NoDerivs 4.0 International License</a>
    </footer>
</html>

